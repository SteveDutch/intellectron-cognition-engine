<!DOCTYPE html>
<html
	class="has-navbar-fixed-top"
	lang="en"
	xmlns:th="http://www.thymeleaf.org"
>

<head>
<meta charset="utf-8">
<meta
	name="viewport"
	content="width=device-width, initial-scale=1"
>
<link
	rel="shortcut icon"
	href="/favicon.ico"
	type="image/x-icon"
>
<link
	rel="icon"
	type="image/x-icon"
	href="/favicon.ico"
>
<title>the fabulous search results page</title>
<link
	rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
	crossorigin="anonymous"
>
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans"
	rel="stylesheet"
	crossorigin="anonymous"
>
<!-- Bulma Version 1-->
<!-- <link rel="stylesheet" href="https://unpkg.com/bulma@1.0.0/css/bulma.min.css" crossorigin="anonymous" /> -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/4.1.0/mustache.min.js"
></script>
<link
	rel="stylesheet"
	type="text/css"
	href="/css/bulma.css"
/>
<link
	rel="stylesheet"
	type="text/css"
	href="/css/hero.css"
>
<link
	rel="stylesheet"
	href="/css/modal-fx.min.css"
	crossorigin="anonymous"
/>
<link
	rel="stylesheet"
	type="text/css"
	href="/css/results.css"
>

</head>

<body>
	<nav th:replace="fragments/common :: navbar"></nav>
	<section class="hero is-info is-small">
		<div class="hero-body">
			<div class="container has-text-centered">
				<p class="title">Search results</p>
				<p class="subtitle">
					Search term: <span id="searchTerm"></span>, searched via:
				
				<span id="searchedVia"></span></p>
			</div>
		</div>
	</section>
	<div class="box cta">
		<p class="has-text-centered">
			<span class="tag is-primary">New</span> write here something, leave
			blanc or delete ;)
		</p>
	</div>
	<section class="container">
		<!-- Zettel -->
		<div
			th:if="${zettels}"
			class="columns is-multiline"
		>
			<div
				class="card is-shady column is-one-half "
				th:each="zettel, iterStat : ${zettels}"
			>
				<div class="card-image">
					<figure class="image is-4by3">
						<img
						th:with="imageNumber=${(iterStat.index + #dates.createNow().getTime()) *23 % 4 + 1}"
						th:src="@{'/images/cards/' + ${imageNumber} + '.jpg'}"
							alt="Placeholder image"
						>
					</figure>
				</div>
				<div class="card-content">
					<div class="content">
						<h4 th:text="${zettel.topic}">Platzhalter für zettel.topic</h4>
						<p
							class="note-reducer"
							th:text="${zettel.note.noteText}"
						>Platzhalter für zettel.note.noteText</p>
						<h5 th:text="${zettel.tekst.title}">Platzhalter für
							zettel.tekst.title</h5>
						<p
							class="text-reducer"
							th:text="${zettel.tekst.text}"
						>Platzhalter für zettel.tekst.</p>

						<button
							class="button is-black js-modal-trigger"
							data-target="modal-example"
							th:data-zettel-id="${zettel.zettelId}"
						>Open Text</button>
						<button class="button is-black">
							<a th:href="@{/zettel/{zettelId}(zettelId=${zettel.zettelId})}">Edit</a>
							Open Zettel
						</button>
					</div>
				</div>
			</div>
		</div>
		<!-- Tekst -->
		<div
			th:if="${texts}"
			class="columns is-multiline"
		>
			<div
				class="card is-shady column is-one-half "
				th:each="text : ${texts}"
			>
				<div class="card-image">
					<figure class="image is-4by3">
						<img
							src="https://res.cloudinary.com/crakerss/image/upload/c_scale,q_auto:eco,w_1440/v1502988509/background_conifer/MS.jpg"
							alt="Placeholder image"
						>
					</figure>
				</div>
				<div class="card-content">
					<div class="content">
						<h4 th:text="${text.title}">Platzhalter für zettel.topic</h4>
						<!-- <p class="note-reducer" th:text="${zettel.note.noteText}">Platzhalter für zettel.note.noteText</p> -->
						<h5 th:text="${text.text}">Platzhalter für zettel.tekst.title</h5>
						<!-- <p class="text-reducer" th:text="${zettel.tekst.text}">Platzhalter für zettel.tekst.</p> -->

						<button
							class="button is-black js-modal-trigger"
							data-target="modal-example"
						>
							<!-- th:data-zettel-id="${zettel.zettelId}"> -->
							Open Text
						</button>
					</div>
				</div>
			</div>
		</div>



	</section>
	<footer>
		<section class="section"></section>
		<div class="content has-text-centered">
			<div class="control level-item">
				<a href="https://github.com/BulmaTemplates/bulma-templates">
					<div class="tags has-addons">
						<span class="tag is-dark">this page has</span> <span
							class="tag is-info"
						>MIT license</span>
					</div>
				</a>
			</div>
		</div>
	</footer>

	<!--  
	===============
     MODALS
    ===============  -->
	<!-- modal: the main container -->
	<div
		id="modal-example"
		class="modal"
	>
		<!-- modal-background: a transparent overlay that can act as a click target to close the modal -->
		<div class="modal-background"></div>
		<!-- modal-content: a horizontally and vertically centered container, 
    with a maximum width of 640px, in which you can include any content -->
		<div class="modal-content">
			<!-- This is where the rendered Mustache template will be inserted -->
		</div>
		<button
			class="modal-close is-large"
			aria-label="close"
		></button>
	</div>

	<!-- Mustache template -->
	<script
		id="modal-template"
		type="text/template"
	>
  <div class="box">
    <h2 class="title">{{zettel.topic}}</h2>
    <p>{{modalContent}}</p>
    {{#hasImage}}
    <p>{{tekst}}</p>
    <figure class="image">
      <img src="{{imageUrl}}" alt="{{imageAlt}}">
    </figure>
    {{/hasImage}}
  </div>
</script>
	<!--  ===============
     end of MODALS
    ===============  -->

	<!-- <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js"
    integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script> -->
	<!-- 	<script src="/js/wild.js"></script> -->
	<!-- from bulma doc as well -->
	<script src="/js/results.js"></script>
	<script src="/js/common.js"></script>

</body>

</html>